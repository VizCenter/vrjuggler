# ************** <auto-copyright.pl BEGIN do not edit this line> **************
#
# VR Juggler is (C) Copyright 1998, 1999, 2000 by Iowa State University
#
# Original Authors:
#   Allen Bierbaum, Christopher Just,
#   Patrick Hartling, Kevin Meinert,
#   Carolina Cruz-Neira, Albert Baker
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Library General Public
# License as published by the Free Software Foundation; either
# version 2 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Library General Public License for more details.
#
# You should have received a copy of the GNU Library General Public
# License along with this library; if not, write to the
# Free Software Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.
#
# -----------------------------------------------------------------
# File:          $RCSfile$
# Date modified: $Date$
# Version:       $Revision$
# -----------------------------------------------------------------
#
# *************** <auto-copyright.pl END do not edit this line> ***************

# -----------------------------------------------------------------------------
# Makefile.in for juggler/Doc.  It requires GNU make.
#
# Generated for use on @PLATFORM@
# -----------------------------------------------------------------------------

default: docs

# Include common definitions.
include @topdir@/Makefile.base

srcdir		= @srcdir@
top_srcdir	= @top_srcdir@

PERCEPS_DIR	= ${srcdir}
PERCEPS		= ${PERCEPS_DIR}/bin/perceps

FILTERS		= ${PERCEPS_DIR}/filters
JAVA_CLASS	= ${PERCEPS_DIR}/classes
OUT_INT		= ./internal_doc
OUT_PUB		= ./public_doc
TEMPLATES_INT	= ${PERCEPS_DIR}/templates/internal
TEMPLATES_PUB	= ${PERCEPS_DIR}/templates/public

# If ${SUBDIRS} is not defined yet, include the Doc subdirs.mk file to get a
# static list of subdirectories.
ifndef SUBDIRS
include ${VJROOT_ABS}/Doc/subdirs.mk
DIRS		= ${SUBDIRS}
else
DIRS		= ${addprefix ${top_srcdir}/, ${SUBDIRS}}
endif

@SET_MAKE@

# -----------------------------------------------------------------------------
# Documentation generation targets.
# -----------------------------------------------------------------------------
all docs: doc-internal doc-public

doc-internal:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${OUT_INT} -F ${FILTERS}	\
          -t ${TEMPLATES_INT} ${DIRS}
	cp ${JAVA_CLASS}/*.class ${OUT_INT}

doc-public:
	${MAKE} BASE_OUT="${OUT_PUB}" TEMPLATES="${TEMPLATES_PUB}"	\
          all-doc ${GROUPS}

all-doc:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT} -F ${FILTERS}	\
          -t ${TEMPLATES} ${DIRS}
	cp ${JAVA_CLASS}/*.class ${BASE_OUT}

Config:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT}/$@		\
          -F ${FILTERS} -t ${TEMPLATES}_xml ${CONFIG_GROUP_DIRS}

Input:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT}/$@		\
          -F ${FILTERS} -t ${TEMPLATES}_xml ${INPUT_GROUP_DIRS}

Kernel:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT}/$@		\
          -F ${FILTERS} -t ${TEMPLATES}_xml ${KERNEL_GROUP_DIRS}

Math:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT}/$@		\
          -F ${FILTERS} -t ${TEMPLATES}_xml ${MATH_GROUP_DIRS}

Primitives:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT}/$@		\
          -F ${FILTERS} -t ${TEMPLATES}_xml ${PRIMITIVES_GROUP_DIRS}

Sound:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT}/$@		\
          -F ${FILTERS} -t ${TEMPLATES}_xml ${SOUND_GROUP_DIRS}

Utils:
	${PERL} ${PERCEPS} -a -b -c -h -f -d ${BASE_OUT}/$@		\
          -F ${FILTERS} -t ${TEMPLATES}_xml ${UTILS_GROUP_DIRS}

# -----------------------------------------------------------------------------
# Clean-up.
# -----------------------------------------------------------------------------
CLEAN_DIRS	+= ${OUT_INT} ${OUT_PUB}
