<HTML>
<HEAD>
<TITLE>Position Proxy</TITLE>
</HEAD>

<BODY BGCOLOR="#ffffcc">

<H2>Position Proxy Chunk</H2>

<TABLE BORDER="1">
  <TR>
    <TD ALIGN="RIGHT">
      <B>Position Proxy</B>
    </TD>
    <TD>
      Chunk token: ``<TT>PosProxy</TT>''<BR>
      Defines a pointer to some positional data device.  The device pointed
      to must be one of the known devices such as the head tracker, the wand
      tracker or a simulator camera.
    </TD>
  </TR>
  <TR>
    <TD ALIGN="RIGHT">
      <B>Device</B>
    </TD>
    <TD>
      Property token: ``<TT>device</TT>''<BR>
      The device to which the proxy points.  The proxy points to another
      chunk that must be in a predefined set of types.  The current allowed
      types are the following:

      <UL>
	<LI>Flock
	<LI>SimPosition
	<LI>DummyPosition
      </UL>

      New types can be added (or changed) in the chunk description file
      (<TT>chunksDesc</TT>).
    </TD>
  </TR>
  <TR>
    <TD ALIGN="RIGHT">
      <B>Unit</B>
    </TD>
    <TD>
      Property token: ``<TT>unit</TT>''<BR>
      Sets a unique number for each analog proxy for use when querying the
      device with the <I>getData</I>() method.  The numbering should be
      non-decreasing starting from 0.
    </TD>
  </TR>
  <TR>
    <TD ALIGN="RIGHT">
      <B>Enable Transformation</B>
    </TD>
    <TD>
      Property token: ``<TT>etrans</TT>''<BR>
      A flag telling VR Juggler whether or not to use the transformations
      specified for this chunk (if any).  This is used at startup time when
      the environment is being built.  If enabled, the device pointed to
      will have its initial translation and rotation set to whatever is
      defined in the chunk.
    </TD>
  </TR>
  <TR>
    <TD ALIGN="RIGHT">
      <B>Translation</B>
    </TD>
    <TD>
      Property token: ``<TT>translate</TT>''<BR>
      A triple of coordinates the form (<I>x</I>, <I>y</I>, <I>z</I>) where
      <I>x</I>, <I>y</I> and <I>z</I> are floating point numbers.  These
      specify the initial translation of the device pointed to by the proxy.
      They will only be applied if <B>Enable Transformation</B> is true.
    </TD>
  </TR>
  <TR>
    <TD ALIGN="RIGHT">
      <B>Rotation</B>
    </TD>
    <TD>
      Property token: ``<TT>rotate</TT>''<BR>
      is a coordinate triple of the form (<I>x</I>, <I>y</I>, <I>z</I>) where
      <I>x</I>, <I>y</I> and <I>z</I> are floating-point numbers.  These
      specify the initial Euler rotation (in degrees) relative to the
      appropriate axes of the device pointed to by the proxy.  They will
      only be applied if <B>Enable Transformation</B> is true.
    </TD>
  </TR>
</TABLE>

<H3>PosProxy chunk definition</H3>

<PRE>
chunk PosProxy "Position Proxy" "Used to access a single positional input source"
  Name String 1 "Name" "Unique name of an instance of this chunk type"
  device Chunk 1 "device" vj_enumeration { "Flock" "SimPosition" "DummyPosition" } 
          "The device the proxy points to"
  unit Int 1 "unit" "The unit in the device this proxy attaches to"
  etrans Bool 1 "Enable Transformation" "If true, the Proxy Transformation is applied to data"
  translate Float 3 "Translation" vj_valuelabels { "Trans X" "Trans Y" "Trans Z" } 
          "Proxy translation (in the reciever's coord system)"
  rotate Float 3 "Rotation" vj_valuelabels { "X" "Y" "Z" } 
          "Proxy rotation (Euler angles in the reciever's coord system)"
  end
</PRE>

</BODY>
</HTML>

